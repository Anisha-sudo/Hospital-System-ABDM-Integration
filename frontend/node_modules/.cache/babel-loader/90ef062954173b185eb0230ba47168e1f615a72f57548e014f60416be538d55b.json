{"ast":null,"code":"var _jsxFileName = \"/home/adwait/Documents/Hospital-System-ABDM-Integration/frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.professionChangeHandler = event => {\n      this.setState({\n        type: event.target.value\n      });\n    };\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.submitHandler = event => {\n      event.preventDefault();\n      console.log(this.state);\n      axios.post('http://localhost:8080/login', {\n        id: this.state.id,\n        password: this.state.password,\n        type: this.state.type\n      }).then(res => {\n        if (res.status >= 200 && res.status <= 299) {\n          if (this.state.type === 'doctor') {\n            axios.post('http://localhost:8080/patient-list', {\n              doctorId: '1'\n            }).then(res => {\n              this.setState({\n                objectOfPatientList: res.data,\n                flag: true\n              });\n            });\n          } else this.setState({\n            flag: true\n          });\n        } else console.log('Error encountred at login');\n      }).catch(err => {\n        console.log(err);\n        alert(err.response.status);\n      });\n    };\n    this.state = {\n      id: '',\n      password: '',\n      type: this.props.profession,\n      flag: false,\n      objectOfPatientList: {}\n    };\n  }\n  render() {\n    const {\n      id,\n      password,\n      type,\n      flag\n    } = this.state;\n    if (type === 'doctor' && flag) return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/search\",\n      state: this.state.objectOfPatientList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 46\n    }, this);else if (type === 'receptionist' && flag) return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/abha\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 57\n    }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginblock\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginheading\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"LOGIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"loginmenu\",\n          onSubmit: this.submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loginprofessionchoice\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"type\",\n              children: \"Who are you?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"type\",\n              id: \"type\",\n              value: type,\n              onChange: this.professionChangeHandler,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"doctor\",\n                children: \"Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"receptionist\",\n                children: \"Receptionist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loginusername\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"id\",\n              children: \"id:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"id\",\n              name: \"id\",\n              value: id,\n              onChange: this.changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loginpassword\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Password:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              name: \"password\",\n              value: password,\n              onChange: this.changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"loginbutton\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","axios","Navigate","jsxDEV","_jsxDEV","Login","constructor","props","professionChangeHandler","event","setState","type","target","value","changeHandler","name","submitHandler","preventDefault","console","log","state","post","id","password","then","res","status","doctorId","objectOfPatientList","data","flag","catch","err","alert","response","profession","render","to","fileName","_jsxFileName","lineNumber","columnNumber","children","className","onSubmit","htmlFor","onChange"],"sources":["/home/adwait/Documents/Hospital-System-ABDM-Integration/frontend/src/components/Login.js"],"sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Navigate } from 'react-router-dom'\n\nexport class Login extends Component {\n\n    constructor(props) {\n      super(props)\n    \n      this.state = {\n        id: '',\n        password: '',\n        type: this.props.profession,\n        flag: false,\n        objectOfPatientList: {}\n      }\n    }\n    \n    professionChangeHandler = (event) => {\n        this.setState({\n            type: event.target.value\n        })\n    }\n\n    changeHandler = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    submitHandler = (event) => {\n        event.preventDefault()\n        console.log(this.state)\n        axios\n            .post('http://localhost:8080/login', {\n                id: this.state.id,\n                password: this.state.password,\n                type: this.state.type,\n            })\n            .then(res => {\n                if(res.status >= 200 && res.status <= 299) {\n\n                    if(this.state.type === 'doctor') {\n                        axios.post('http://localhost:8080/patient-list', {\n                            doctorId: '1'\n                        })\n                        .then(res => {\n                            this.setState({\n                                objectOfPatientList: res.data,\n                                flag: true\n                            })\n                        })\n                    }\n                    else this.setState({\n                        flag: true\n                    })\n                }\n                else console.log('Error encountred at login')\n            })\n            .catch(err => {\n                console.log(err)\n                alert(err.response.status)\n            })\n    }\n\n    render() {\n        const {id, password, type, flag} = this.state\n\n        if(type === 'doctor' && flag) return <Navigate to='/search' state= {this.state.objectOfPatientList}/>\n        \n        else if(type === 'receptionist' && flag) return <Navigate to='/abha'/>  \n\n        else\n        return (\n            <div>\n                <div className='loginblock'>\n\n                    <div className='loginheading'>\n                        <h1>LOGIN</h1>\n                    </div>\n  \n                    <form className='loginmenu' onSubmit = {this.submitHandler}>\n                        \n                        <div className='loginprofessionchoice'>\n                              \n                            <label htmlFor=\"type\">Who are you?</label>\n                            <select name=\"type\" id=\"type\" value={type} onChange={this.professionChangeHandler}>\n                                <option value=\"doctor\">Doctor</option>\n                                <option value=\"receptionist\">Receptionist</option>\n                            </select>\n                        </div>\n\n                        <div className='loginusername'>\n                            <label htmlFor=\"id\">id:</label>\n                            <input type=\"text\" id=\"id\" name=\"id\" value={id} onChange={this.changeHandler}/>\n                        </div>\n\n                        <div className='loginpassword'>\n                            <label htmlFor=\"password\">Password:</label>\n                            <input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={this.changeHandler}/>\n                        </div>\n\n                        <button type='submit' className='loginbutton'>Submit</button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}